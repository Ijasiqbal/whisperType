<?xml version="1.0" encoding="utf-8"?>
<!--
ACCESSIBILITY SERVICE CONFIGURATION

This XML defines how our accessibility service behaves and what it can access.

Key settings explained:

1. accessibilityFlags:
   - flagRequestAccessibilityButton: Allows the service to be activated via the 
     accessibility shortcut (double volume button press or floating accessibility button)
   - flagDefault: Standard behavior

2. accessibilityFeedbackType:
   - feedbackGeneric: We provide generic feedback, not audio/haptic specific

3. accessibilityEventTypes:
   - typeViewFocused: We need to know when input fields gain focus
   - typeWindowContentChanged: Track changes in window content
   We request minimal events to reduce resource usage and privacy concerns.

4. canRetrieveWindowContent:
   - true: Required to find the currently focused editable view and perform text insertion
   This is the minimum necessary for our use case.

5. notificationTimeout:
   - 100ms: How often we receive accessibility events (throttled to reduce overhead)

PRIVACY NOTE: This service only accesses window content to find focused input fields
for text insertion. It does not read or log any user content.
-->
<accessibility-service
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:accessibilityEventTypes="typeViewFocused|typeWindowContentChanged"
    android:accessibilityFeedbackType="feedbackGeneric"
    android:accessibilityFlags="flagRequestAccessibilityButton|flagDefault|flagRequestFilterKeyEvents"
    android:canRequestFilterKeyEvents="true"
    android:canRetrieveWindowContent="true"
    android:description="@string/accessibility_service_description"
    android:notificationTimeout="100"
    android:settingsActivity="com.whispertype.app.MainActivity"
    android:summary="@string/accessibility_service_summary" />
